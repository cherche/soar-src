@footer-height: 3.5rem;

body {
  min-height: 100vh;
  /* Some scaffolding for sticky footer */
  position: relative;
  /* Without this, the footer covers content. Bad. */
  padding-bottom: @footer-height + 2rem;
}

/* {
  outline: 1px dotted red;
} */

.main-nav {
  transition: background-color 0.2s ease;
}

.nav-link {
  transition: border-width 0.1s;
  position: relative;

  &::before {
    z-index: -100;
    content: '';
    display: block;
    width: 0%;
    height: 0.8rem;
    position: absolute;
    top: 50%;
    left: 0;
    transition: width 0.2s ease;
  }

  &:hover::before {
    width: 100%;
  }
}

@media screen and (max-width: 767.99px) {
  .nav-link::before {
    display: none;
  }

  .nav-item.btn {
    margin-top: 0.5rem;
  }
}

main.container {
  margin-top: 2em;
}

.prefooter {
  margin-top: 3rem;
}

footer {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: @footer-height;
  padding: 1rem 0;

  p {
    margin-bottom: 0;
  }

  .social {
    /* Hacky technique to make social icon bigger without messing up alignment */
    font-size: 1.25em;
    margin-top: -0.25rem;
  }
}

/* The photos are just way too big, so this limits their size a bit */
.banner-container {
  height: 80vh;
  overflow: hidden;
}

/* For contrast reasons, this is a translucent overlay
(but the exact colour is defined elsewhere in theming.less) */
.banner-container .banner::after {
  content: '';
  display: block;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  /* . . . but we at least establish a default */
  background: rgba(0, 0, 0, 0.8);
}

.banner {
  height: 100%;
  background: url('../img/2017/2.jpg');
  background-size: cover;
}

/* Hopefully you remember this paradigm.
Setting position: relative is just to allow us
to use position: absolute with the children */
.banner-container {
  position: relative;
}

/* My favourite form of centering. Vertically and horizontally.
And it's so elegant too! Look at that and tell me it's not super cool. */
.overlay-text {
  width: 100%;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.overlay-scroll-down {
  color: inherit;
  display: block;
  width: 100%;
  height: 4rem;
  font-size: 3rem;
  text-align: center;
  position: absolute;
  bottom: 0rem;

  i {
    display: inline-block;
    width: 3rem;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    bottom: 1rem;
    transition: 0.1s bottom;
    animation: bounce 10s 3;
  }

  &:hover {
    color: inherit;
    text-decoration: none;
    i {
      bottom: 1.5rem;
    }
  }
}

@keyframes bounce {
  0%, 25%, 29%, 33%, 100% {
    bottom: 1rem;
  }
  27%, 31% {
    bottom: 1.5rem;
  }
}

iframe.soar-video {
  margin: 0 auto;
  width: 400px;
  max-width: 100%;
  height: 300px;
  border-radius: 0.5rem;
}

.card {
  margin-bottom: 1em;
}

.btn {
  margin-bottom: 0.5rem;
  margin-right: 0.5rem;
}

a[data-toggle='collapse'] {
  text-decoration: none;
}

a[data-toggle='collapse']::after {
  font-family: 'bootstrap-icons';
  font-size: 0.75em;
}

a[data-toggle='collapse'].collapsed::after {
  content: '\f217'; /* down */
}

a[data-toggle='collapse']::after {
  content: '\f223'; /* down */
}

#gallery-general a {
  margin-top: -15px;
}

.intro {
  h1, h2, h3, h4, h5, h6 {
    text-transform: uppercase;
    font-weight: bold;
  }
}

.gallery h2 {
  margin-top: 2rem;
  text-align: center;
}

.accordion a[data-toggle='collapse'] {
  color: inherit;

  &::after {
    content: '';
  }

  .card-header::before {
    font-family: 'bootstrap-icons';
    content: '\f2b6';
    margin-right: 1rem;
  }

  &.collapsed .card-header::before {
    content: '\f4a5';
  }
}

.faq {
  .accordion {
    margin-bottom: 1em;
  }

  .card {
    margin: 0;
  }

  p {
    margin-bottom: 0; /* Necessary to fix the collapse animation stutter */
  }
}

.team .card h5,
.team .card h6,
.team .card p {
  margin: 0; /* It was just kind of too much */
}

.team .social a {
  font-size: 1.5rem; /* It was just kind of too small (the icons, I mean) */
  display: inline-block;
}

/*
This is a temp fix for the strangest bug I've ever seen.
As you may or may not recall, the collapsers for the team page
are all "connected" when the target is a class. The FAQ has no
issue with this "connectivity" because it only uses IDs.
Truly bizarre. Guess we'll never know.
*/
.team a::after {
  content: '';
  display: none;
}

.team a {
  margin-right: 0.1em; /* And also the icons were too close together */
}

.team .collapser {
  margin-bottom: 1em;
}

@media screen and (min-width: 576px) {
	.team .collapser {
    display: none;
  }

  .team .col-sm-6 {
    display: block;
    /*
    Ensures that large screens always see team cards
    This is mainly a problem with resizing. Without this rule,
    one could shrink their viewport to an xs and hide cards.
    But, upon expanding their viewport, the cards would remain
    hidden with no way of revealing them. A big edge case,
    though it's nice to have accounted for it.
    */
  }
}
@media screen and (max-width: 575.99px) {
  /* De-clutter the slideshow a bit on mobile */
  .banner-container {
    height: 70vh;
  }

  /* . . . and of course make the text smaller too. */
  h1[class^='display'], h1[class*=' display'] {
    font-size: 2rem;
  }

  .banner-container .lead {
    font-size: 1rem;
  }

  /* We need collapsers on mobile!
  Otherwise users will need to scroll WAY too much */
  .team .collapser {
    display: initial;
  }
}

.tooltip-wrapper {
  /* Ensure the div only wraps the anchor
  (Otherwise the tooltip is weirdly positioned) */
  display: inline-block;
}

ul.contact-list {
  list-style: none;
  padding-left: 0;
}

ul.contact-list li ~ li {
  margin-top: 1em;
}
